<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <title>画像処理アプリ（Pillow版）</title>
    <script type="module">
      import { mount } from "https://cdn.jsdelivr.net/npm/@stlite/browser@0.76.0/build/stlite.js";

      mount(`
import streamlit as st
from PIL import Image, ImageOps

st.set_page_config(page_title="画像処理アプリ", page_icon="🖼️")
st.title("🖼️ Pillowによる画像処理")

uploaded_file = st.file_uploader("画像をアップロードしてください", type=["png", "jpg", "jpeg"])

if uploaded_file is not None:
    image = Image.open(uploaded_file)
    st.image(image, caption="元画像", use_column_width=True)

    gray_image = ImageOps.grayscale(image)
    st.image(gray_image, caption="グレースケール画像", use_column_width=True)
      `, document.body);
    </script>
  </head>
  <body></body>
</html>
